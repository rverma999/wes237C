#include "bnn.h"
//#include <cstdio>

//bit binary_activation(x) {
//       return 1 if x >= 0 else -1
//}


void bnn(DTYPE IN[SIZE], ITYPE ys[10])
{
  int layer1_out[128]= {0};
  int layer2_out[64]= {0};
  int sum[128]= {0};
  int bias;
  unsigned int xnor_result;


	static const unsigned int w1[3200] = {1369938329,338570864,3449824829,3240895963,1476599616,1328019041,2965306460,2146265097,3691678023,3226747582,174245824,504823303,3356751994,2216680696,2784819130,3485463688,4169014177,2178950656,444957119,2561350911,2878868387,3579239144,3925189635,463996938,292159488,2483017301,3990197109,4246490350,400286596,2141421584,4191485971,3293577519,3640656265,1245840977,1071772095,4279285759,3887562380,944187535,3002763251,2451577601,27656387,2022845441,4279398655,3225947118,723386689,3524464656,3563101655,621971001,1180194769,3501785088,2167989115,4081905647,4242797618,3529329152,465033281,1080908163,2616645379,3539779248,3145762764,2499680111,2681016017,4270126366,3237208317,3304857569,3387553803,255823088,1998868225,537069571,3227058184,157843458,2075787435,566496915,4206309804,4133354993,2042036224,3024843106,3437406618,3585142727,1000803470,2390433265,2734531694,521815074,3239569450,3761250712,20075968,682790914,61800945,3977285132,4270584143,2650673085,3754028212,3361896606,349953346,2806923292,2231323003,3752056645,4249281242,260065211,2307498418,488570880,2081330708,3417664439,3006676158,1754296419,2712808434,1474408513,115888386,2557452803,1542354559,2136944127,3573102588,2836641537,4288233519,4237820152,3154120495,3489864532,2155821184,184481927,4050961391,2288812016,240122969,3555379243,2677984381,2012612027,3594190848,461833499,1819134904,4057869348,3495749384,2377855378,225746931,1493434174,70383350,3296257775,2189426367,836631543,1063123186,2174156545,3432316318,1343160412,2500346992,2235835712,220233088,1060229122,3637726043,3263962580,360283726,652732300,2672403530,1489698816,1785978177,4179079237,1029926384,2151126145,3356398609,682640762,552724473,394985208,16773498,2684120319,4292530175,1340997235,256295528,3959084162,3234686281,472319312,41965120,124335104,3226222592,1346474544,2725951510,2281393143,534094520,4136822556,2840985600,4103401294,1803932523,799199427,4167215524,1393466304,124624852,1112014596,2059379739,1072988625,4069023344,315595778,4200304703,3864137522,3628195343,1547682025,66060996,1875005507,3894972422,3556132356,3181576524,3956808856,2228587395,2415310721,4277762716,1744240640,1421578769,3464859158,3818393414,1352452662,4135202559,3533193209,2885818347,3422603289,33352,55376,39687039,1976877053,975175264,939505923,3890692763,1050740477,2862526688,851270207,2124507791,2860357471,3410808291,4270072709,101091463,3362411304,1749549056,2919752285,1845781616,2464107668,600384128,4281779007,3735158652,677363842,1206394943,2130720915,3764196967,1324494840,4285578399,3783917694,2285635042,1275599908,2215248248,3684753,2781384429,3027812351,3506700262,3420454670,414693613,2897494081,1424279905,544473088,991133190,3004712775,3778782225,4186992735,3511076020,60125948,2018902004,2751463139,3757539321,3771453887,4134285144,1406476,456392793,3489874646,1040219224,25675720,8249570,404215911,2802614268,1650409183,3420681503,2684126759,2013197704,3671737708,1147404288,843646705,814654550,1075066546,3090326439,182888191,1662746623,163617703,723769798,3442999042,3532636272,1648197854,66117088,369114112,255975472,541851934,3758124633,3229351932,199688179,2106916863,2979135484,2420113394,272623828,2690826387,2555242198,2451439616,3562956989,3542427736,3984608820,3485221679,3757720447,4009656583,2727346268,1363152987,2717929952,2099272,705103837,3521071102,1212284891,729741364,3885991999,175745145,2397717359,2079824275,4154921525,717104508,2136870545,3376424267,2373992205,1646507826,1388904448,223484502,352677378,1381825231,4027785983,2419228414,647796687,2564320500,842432258,3988765367,66551904,1901559815,141459560,39325568,822112256,1347354905,2816479770,1591270895,4093091813,4288280845,4149064957,3843911493,1310660759,4129692403,3125222289,3026780160,307748307,2595053284,1742331898,1344533854,2057850940,44767595,3251961820,1192442836,2096428023,2276308860,2143792067,503436412,117133310,60930150,3489847486,1147136,8944980,454580736,547246088,1214120961,2817796435,1976950912,3221180751,870441247,2260926464,1492201982,3684096259,1305570011,129469697,919631368,1001632736,2600803846,1557300547,1616258385,26753537,516869951,3762945135,2174290941,259393494,188808200,2148156933,95043208,422027392,433387565,208159299,2072905508,4226289174,1609793374,4157781300,3957587968,1813124668,2895651223,2282948434,2551216671,84482533,116002810,1585905562,2156394994,1228927542,732205189,528675438,843099376,1740630032,92143624,3588754709,4261712991,1079919612,263663552,1607970304,2691420410,3910042298,1366071853,2705496219,2380240728,156499968,3756224163,1858843295,1323874901,614300489,923825896,2269285322,1655849703,1918777362,1140802477,3950783284,3218424007,4272414975,3993898995,8781468,946856430,2281309172,705189440,134345728,1304891943,773068112,1150765822,2685515421,1986747387,1618917522,2935816192,524170346,541072151,3042076382,2858160204,426892286,1281077857,576315272,3686795544,2121098141,3095157013,803409347,4289855997,3630841590,1489493506,1455288842,2147355823,4283689023,4086487283,751143296,4104230694,2558886361,2227191097,2729216470,1574713328,3051421696,339613354,1683031856,69441333,3260313956,2252765164,1129308215,2799436265,465862461,1577054828,268357888,3986090024,184550913,1183902365,147075538,2305809827,3128130030,105208488,3366328138,3728325299,4037148157,2054946496,4283826188,1207969708,2316391401,711393280,349568080,461627945,2314738456,4292654847,4236885983,3639993849,1209793421,2183793916,2564878024,33681280,537421830,2325479666,595593089,3892442352,3095344933,3286331600,3178695151,3752988159,4266175485,2167131766,820872143,2028982520,401080657,1035936026,1394999296,2796866559,2985828313,2038065037,2492443350,2356853416,4242700930,3988011009,263970937,3237806204,3486523141,1061669123,4247507071,3281815546,3630217107,2829049885,3236954496,50493760,606121986,3369748487,100966767,2078018906,1598305582,4259723698,4247353812,3489202176,3605843247,884029742,513212925,4280368751,4240791295,319680484,2902064265,2109992993,4179248,33341056,508379145,951779592,854094405,1607281775,4030018482,36111444,2612494225,3713895487,3813201375,1133411287,2910814493,2072849638,3989433758,2285093582,3950510080,2667118631,3869490110,1708544954,4089948162,4219962317,4155512115,2299396728,2425039290,835263536,4228250551,4164867583,2342006269,676859520,3770832897,3092185256,467678819,3592077302,2822346214,2573068022,2418433912,1445330563,3379256597,611266895,771487516,2698706944,2416435558,3000489063,935356792,970428624,1462301706,607391805,3470754928,3214540518,1151465785,525288355,4263145535,2153053096,26523942,1420363001,1624276772,1478742473,18883528,4077076701,1266798148,299462593,3430645252,67079734,4284468488,78727916,692256768,1980737308,3664716363,2717895107,666827969,2598240484,1198130112,497319682,2355243,540279114,2804299227,66943720,1065096197,4239810687,1708796947,1936924750,2139712624,3154152263,3025105021,1427417080,2882961058,1131100229,2016714733,1923215166,798391227,3676372992,387682194,2470155794,3917192619,1544590918,622778616,1156890432,2072531969,3653450844,3565110209,66868684,2145811303,4043210623,1319931858,2382986339,4144189530,3223864098,1104864,8706144,183350538,3073793239,2195793167,3219392424,2146823955,1610463832,3485597696,3731164205,3908071118,3441350154,145822272,453675073,1591780591,2741763785,3537661345,4289921006,3760159038,1073561426,4248894204,3602294628,1737219755,1479247954,3363635760,1419802242,134963200,153526272,671121684,4117204108,2711023793,4294931571,4292026790,3920297984,2963700285,2323462317,1898648223,2701894695,4190366666,4217143724,389420335,2771355373,415252167,3697254185,3976098111,4142047743,4147126080,478215451,3725086256,3759121782,3240834040,477345276,2383543010,2945105036,3287806132,3237981286,747948105,1375253925,2469199872,867972854,3467321596,3205112099,3708272895,3894647255,38265224,282039315,178168073,2088435870,1072601482,4294553600,4292968615,4171773723,898793979,2603757529,3431452718,2021122813,2998392760,394641283,3592469728,510579846,2258864192,2720169493,590152226,1155399680,3990864353,4278124455,3829292395,929703360,666478598,2235556122,2950105687,4136198685,2430175013,1022628791,2667662833,4246460959,2812584956,1358569446,2595487285,482270324,522243584,1879912448,2160967680,1169228288,229769273,3889169223,511028143,3539467690,4276486144,3622993782,525766053,3445861010,1639146836,431538246,4022151215,340985082,1805153361,4213067903,4052879932,1020205539,3797252110,192889110,3660585693,4278662421,3766117772,469882081,2150128021,875963265,4179415017,2172240719,3458851708,2513585399,2269375727,2057109504,2641176566,2968940028,2961146044,1804313835,3457382775,4140784971,2075965082,1814862820,3745516731,4261430027,3926301567,3236177407,25698244,515946128,4093772252,2147912518,3239453116,57964541,3735551986,153466453,3480349534,1675343343,257075313,4115589998,2771189760,1155098826,3855140629,126921949,2209185518,1833335062,2809203761,1698439560,70254877,2715890809,3154159083,9302741,7094958,2340543744,3788990541,2308932741,723086239,3978164601,3547627231,2133016089,4043926655,3995601406,608509063,2655705749,312643486,2921988096,3905552423,2655246352,3221700744,1250214889,3657003247,3995208638,3184019420,1630258662,352107737,660335172,1628011815,21303653,71104001,1016872963,2186678115,2013328999,2420113087,4260909055,2144288119,3576287743,551809393,1205729,75686656,83460516,174587904,1631026890,3620894718,3218588221,2008165888,1065031180,225051111,67173920,134725723,32574826,1912630398,2164666277,1680440955,4137418668,2805852685,1606320222,528582146,2843881184,2008195081,1512026112,3755360703,495747527,3775524858,4076579093,2773408831,1853095936,970387805,787506085,2897288259,17272350,1068130579,2986247678,1816066426,3657955022,2224205267,121750245,4095604911,17536352,328787460,2651607095,134619019,3223396085,3470432,648108803,2985983227,737639017,3951033107,4067623321,1842897852,3635643310,3817340928,3095570658,3612956488,62422008,1736478867,774925104,1694051053,2090709598,2759977918,444246509,4205664447,3481182204,1864630214,791666910,3384739521,4026589193,1880082499,2177108400,654328494,3001175788,2562811937,2299435242,200841752,2398652126,235431332,1419116544,126944001,2349961667,2780139671,3980414847,4027420671,342881736,4211016710,3354436164,1862436207,1615211887,256117232,4255950735,3746085370,1108320178,888799210,1203764848,2566723015,1596423189,4226007287,3898088888,2692809584,590656528,2119624198,2581916161,2441871360,2672498399,2002281791,3511076224,3357288437,4215140858,2176295094,867000098,2914119433,1119814022,3623004060,401874177,2130920451,3910008894,3908834300,2279701933,4264179087,4234019367,3775873278,2332131104,1765166160,1556447291,432818177,1356257819,2946789363,612171776,4071410872,792746026,152042391,2102764543,2067055483,438642685,2505277408,1479538719,2759778854,58755328,583039106,531169286,480316430,3571344446,738344116,3740282806,1871444926,1983537135,2243198752,970325248,1340018842,2740257500,679542936,3737601513,1685716992,3000904986,1232153717,719532808,643739729,648046307,1557069821,4151015219,2230894519,1464335745,2817621775,4267794431,3770947549,353116234,440410322,1681921300,1140850752,1074271750,3775333559,3496299583,37920752,3794534056,2111797588,511402378,828162444,4135452672,3027244161,1475716402,2653939765,4291941375,1452232650,163999736,1248329024,3191855129,3631219316,539101952,30246912,790990139,4294797191,1952933095,3272999876,3826384559,3790851455,4286345215,4198622156,2335569620,3108246106,1413999843,2193736111,864053258,1770717184,2329163594,2635128481,620787328,565538656,1073810884,148176890,1827667814,1560280517,4158126636,3095308415,2279254524,972961667,281762025,1029836296,809628544,1678654630,543573728,14486272,117534913,2763193948,3319790474,3955225963,2684298159,48793686,546897920,3540738292,1096541448,2609276726,3758467563,2237720063,11796473,3364880344,1140848458,2145647095,285145802,132523808,2094137369,2791836224,469771334,3457421644,1654480486,551522811,846753788,804192125,3947356095,557973390,1616894509,1583268560,1322938982,4179099648,1636912412,2005419962,2210529238,67709112,2368828818,1110368984,912229590,1539862278,3111974075,3806067881,1426602776,2343557,8245321,111904729,1845620544,4028610375,67067384,1919725532,1219657024,3743598605,2020074123,3939420431,1584431631,265660616,3826384896,2373027149,386035072,343787266,2729470976,1575646080,1266872326,1588008984,2592703965,66068467,2130818815,3773988861,535691208,3946311778,2322273492,1745911297,117467906,3231330327,3234948302,3170443440,1334927122,42088560,196040201,3538165961,162687331,4183425024,2679175402,994688381,483714451,3184026078,2142075980,1472029165,1203773408,4280416318,2956935644,67082753,1041375503,4152038652,3487368638,1373765624,3905101509,2818667024,10027328,484076452,543645820,2373375008,111465220,1329564568,2675197513,3466405138,2969305088,2707822738,1081329045,1683818035,3457148735,4253843417,56405740,3804885046,3459711095,4075814994,43262976,1535125507,3088252990,223347708,1417722946,3775196464,3768200223,1414127892,1039464899,1763766273,731901958,4174446796,2003845792,4266643568,3220692080,1742405632,1022943069,431638587,4285164483,4016586247,4286482967,3089244158,2651422509,1286111394,532678818,4160753247,3223245800,569041792,973764738,4079452921,3536328563,2801986370,1090435963,2682533119,4070711293,1321263026,1986929326,2311028903,3014096363,3987291515,1257177088,79743828,706075961,2295889080,374935443,518980864,3118764039,3542745899,176228853,1405632299,4287028735,3897141246,2196635526,1226252495,461243333,448849955,403780052,14301088,814169445,1578143132,1105245516,801575589,2873119532,1925687178,1114768227,2327838720,2146334552,2780964938,3625037078,4053631231,3593056127,1632346102,269090785,3039556154,1111459216,16719616,247089184,3965730816,191480000,2478574610,3485508610,2094577503,2972970621,1723751902,268074521,4059560284,4172749996,3457156052,4132830108,113551085,2146828288,4275590180,604228973,2850821499,3181748530,1985031730,1184593700,3232546838,1873447030,2795243896,1719703492,4245520495,3224372349,1098909640,1610743298,2685400021,32513892,263308705,4247429703,3900877431,1737228776,360715188,215206031,1536711121,3715742872,1140523008,3569261221,1858466383,3795944356,553859105,4088267678,4045970270,4291817207,184041423,1875786060,4192589160,2220656624,18962688,203146300,1318196015,394835840,4103903735,266373368,3780810244,2269580225,1411636910,2116031200,2410396960,3507246366,1475366611,3548053504,1250727367,1224292211,1061121886,9624787,356254077,2616740218,1881158990,2147504396,3731010753,3827047007,2163465084,525090809,4285530098,3726472993,3187663580,1072737073,4262118957,2958778436,2751075346,1004599250,1040317253,4060656650,269570868,304926097,2446655488,1396571107,3682487276,3119984773,2633678464,2683738134,4062661222,511600664,3692039330,738273604,536902958,2151869432,4218994591,3937139187,1073717187,1342175092,1061106308,2145228354,1230297115,26018542,1323050419,58724165,4167073403,294757102,4209197718,3419865088,2694435199,3731565479,1887757767,3084515293,3461569184,1793042189,3623782365,4178615917,1375249364,3588882016,3150814802,882594831,2991665548,4112768707,527691006,498147324,770426054,3821536603,3203585005,3875249059,1558378971,2144197225,1920944556,1471367143,1531510784,3610870114,2585380941,331130181,129962624,578445552,2426502215,1684393979,3636307897,2147481888,3053434815,3229151204,2542272259,4185378914,2259028367,1996016186,1466435908,3019919875,3759243386,16033040,621289345,3264149956,240116391,3753335653,318432018,2104819712,4141628017,4158395579,4196037964,1790957294,1894055645,28304810,1634239715,2680272399,2953632316,32733441,4230576895,2502823924,219537127,4278582994,1925185452,2954886102,9057088,46279681,2109169813,3508375024,1368113019,83141660,4208004528,1372778558,4114415616,4293716226,1597466420,2419140290,170940702,1173280299,3287459029,3063194825,3710134947,2509030368,2431921527,2680312783,4225756159,3207665637,3130129703,1346343088,266863496,385887490,3356149791,18244410,1834935109,4219334959,4149409795,336758399,725022463,3210674176,2959474818,1733582551,3289533901,4290165247,2717581247,4095733758,4205017513,3052995820,2822774580,13648128,184553533,1616970070,2199393268,1017170254,3691028435,3759143103,2281568247,3892084732,3754164203,4167029247,3852665703,3416676247,3480995766,3105303116,2465005568,1704541599,2359469711,3164798182,4053706499,989634562,2613708352,921945904,3188566003,4127123294,515476981,4293844806,2681690168,4137549826,2058363913,3649335611,3417312112,2130714373,269815816,1641536,1550003401,1241344132,4125333751,1306491559,1062154056,1998323712,1609747707,1644473820,4277130556,3752748116,2542286848,1172511045,948075523,2281947183,7864626,2164270347,2072768455,3587092221,4162936822,1600093408,2045837464,3199933936,4200509203,1575739521,3897828389,22683868,1619525753,2774542302,1328406383,981454935,2900754432,1270756359,1378111169,4106267402,2769911838,1888118082,2391193327,1593441230,3858759581,3555458187,1072145353,4256897027,1816723555,1120407108,2382397720,3091726349,2089279527,1089421564,297586624,258178051,3316379745,3919527948,3439268308,1073471692,1839150401,3657433088,134767650,2709990553,2022884779,359518751,2845958140,2769125341,541056523,2797339882,4018176306,1744835244,42500540,2111243151,1322319868,3652419433,871332951,2400694888,1358801098,1059149057,4253255295,3969949657,3500015126,1532606085,1816443293,1282537728,1276379136,2935598102,3334285992,1466894005,4291591060,4288314698,1293336610,2995258380,1375764785,1073751034,69233188,2151220520,100556672,3088055771,4034903419,2482728829,3455997847,2079782452,3165592159,2892209143,3730145301,2678587410,2559578775,4031455727,185308551,4002480128,240397449,2367777612,2342108691,4261311983,2466905593,1164049008,851228677,1967501392,540115067,601099232,4289071651,2971468159,525340613,3364355093,285122881,1474384664,4173209926,1207658731,4291969615,212221221,4112504607,4018832089,1682121082,152017021,98238464,1117128755,559169557,1923201404,151257471,2564918770,5554160,1136132035,1738537018,3481020935,2280672936,4126813743,2139013373,3868336050,1853935618,2627470219,3485492728,941457926,40468868,873835756,364475914,4045594327,3690958280,352308588,1205772508,2603941888,3538388926,2907960690,2414525923,1184267917,1633135102,3949504815,1664087345,4226362509,2071842451,48526843,3381591734,3686012586,1875908122,3753611704,645506799,3730210020,1002868348,3773363379,176217462,3711801572,2799203899,1576562501,1595928439,2527557361,1861812224,1523585369,1469760071,975940128,2222020756,1296216866,147394386,168032792,2845772746,804354861,3189739519,3264849788,1603176326,570601644,3149367186,2562819851,1796249497,4029456447,2257179232,294924929,2498772000,729990032,142411092,1888320969,3220979076,2443575296,3528354661,12332933,799034538,4160498540,3218908169,3721007681,3066086729,1612120236,267387900,952784973,224754496,764657412,2024526014,3405121494,2549219317,4074450139,3755774481,4135789055,2157808898,2722799618,22020225,58731032,3861888683,2375826851,3065577472,3078548591,3774204483,3353947145,1507844912,258888962,1198309380,2705334272,1543766079,1483,269512275,2349308920,4270382911,3966236670,1248673788,3945528459,3909087937,1607044608,2125434899,3774458389,492830728,2011169595,804518662,943446430,839808207,2888761344,3479841975,1184692175,2671040438,2014777409,493818671,1783453726,1769964374,3221094305,2680156350,2088604563,2262140864,98999300,480903178,3277849206,2638254633,1681743375,3658008479,3919777752,295428075,2254041691,4273928710,1872380156,2952025147,2135467518,2272788480,2339768061,1352401484,2127960734,4289021687,150994560,103642112,1941748747,2072970287,1643119733,1057799675,3772851535,2207174678,4218667390,645928953,2625830065,1208014544,66625920,4283101199,3772220154,299762432,927074374,3488092073,2077007717,4294925459,2764374016,1659479124,4152689109,2681824410,3887372723,4183582957,4048742655,1868769533,1633451978,3205684819,2717998818,1881065487,807272929,42475264,2264986124,3395166965,2196942144,3219124095,1568508346,2146615279,3206012607,569433594,2762957206,289021634,2152774878,86245376,1856706803,4220206314,3183237873,2131425807,3767030526,3954448511,1883252245,3021136218,28716566,532947534,4170905423,26144673,516308997,2491351080,3115320579,3338743277,1629916975,4180233595,4214739963,3418789857,3621010958,436865530,473998188,3236013672,1257111552,3538215546,128757303,3511916386,75344276,567807168,2001287759,2468077596,2214363577,1070598471,4261923583,4027277255,2551609385,530421384,403225625,3695215052,2456480516,1898688017,1719308536,2623295973,4121031510,1196038653,3825327296,2444701890,3656060554,1641611264,3923192963,4252981319,4249218940,895048390,1230002143,3992384771,4265806369,2720006596,771766363,3774966397,128793584,2947014535,460324850,3407437058,2615140407,1038759237,3720894848,3377807769,1592150013,3977293054,4051718142,1813101957,221324827,134961957,4098359296,3300627392,4293157651,2061604118,2604798381,3020756469,117057152,272760834,1342177282,2148233668,2214563168,2146530814,3216631760,2030828043,2533317560,3477321292,3011847215,4086925163,3773784565,1771147777,1931086838,161242328,4234707416,217119,547254388,1085734912,284018348,4093421824,3401369147,2672315967,4203444943,2133323699,3900569014,3376401848,3270519840,3154234887,3758541436,14638976,485681175,3737060728,1077944309,2684582905,8378328,518870687,4156507647,4114399228,870825380,3036666138,1233415944,3846066322,2813394944,2780773807,3866438279,1092315690,16043648,1268768771,4260153407,2861434876,2923475923,940326671,4026592927,2416413692,78577648,659816092,4009685771,562954909,284443626,1250434890,3798151852,1363414101,3671680223,3928795599,2945318911,3760370469,3278833129,1246756864,3650894416,1204249687,45056295,3557439006,18824352,576117768,3309174882,443562390,1145036861,805295762,4292188255,4003432191,1413220862,1916927909,2378954450,3095196851,2280813008,1557110023,3516575766,1500779825,4155507245,454072964,213523704,1318458951,268697600,3111246771,4219501013,3302765240,4038113121,2027013154,965237304,731829707,3554119696,2139030779,4177274109,1073119171,4266819711,2914783202,3087137795,3225387050,133432304,2116055042,3761568780,290724257,450962427,507240437,3798807549,1811846267,4026457558,2871263232,3466262397,2663977292,584380193,1097083309,1229480147,2452115455,696318882,2250763920,3714145707,1981767279,4059760639,3210477565,4072486504,198443953,1757448224,2147865193,2774140,533057280,1880489481,204560065,2443180859,2143172955,1272897541,1821984962,1770520576,242711876,3002506635,3798087396,25725328,2327876908,4111021031,3812318842,3295935461,990895407,4177252159,3473418236,4041913990,159376586,2264860163,1126287458,544875473,93978048,3223024642,2183168132,1654877837,2123824121,1996306477,2849091207,2069571260,3800563712,3974065269,1588993433,3792005846,2259411086,949373479,3036598347,3470655984,1329607973,4144495039,4174678942,2394152184,4194399182,4009729788,719978331,298831990,1023170045,3595074768,864777,1169369759,3868765629,2768754469,2688994171,3392193711,1968224242,3016687616,1390862728,3985504803,3255560511,774493938,1363432512,1105100780,1766719426,1479015894,2835259454,1274448994,2010324567,4188141679,3890725235,2370308038,1279295086,1459734971,2657980,310699537,2353442816,2256757784,2263617080,2885358695,268356939,3070078257,4095016960,2238142746,1550709282,76674841,2601819225,1159168949,230878815,548863161,558364054,192417468,1200475881,939953447,4028040319,98117248,1862335622,1015534143,544500060,62642284,1895034567,2354297883,1893106391,1340212997,3345638968,529508398,483906848,1239023616,1060152991,1952577109,1963963368,1342196744,127656641,2533457943,2114719807,4160777677,4085308927,4111418495,4289744891,4294246267,4185899962,1359048002,1535897697,3354921441,2132810760,1099079680,2147942409,737218280,3296854969,3559964615,2786715995,2753340234,717684736,1626156467,66744167,3241692405,4265926959,4257067262,1445401419,4196417599,3154142804,537041792,16421544,1490821375,157760486,1372016639,1388237184,2262966177,3792668197,2230150008,1288403839,4168183486,123207664,1875378131,4165174801,1342183700,3497840,4158980096,3976272425,3691907208,3889967398,3445887817,1984270848,4178876423,132972545,3724137023,4260917343,4287150781,2063161857,159354880,3034382339,1002446972,3255787464,1123668657,1606864847,4230995199,1083671540,516474337,2324781143,1040288583,1946766161,4259183503,4157538304,3922581345,611310137,4207400888,2247137314,2765304320,3132557450,874553379,1854226480,3225159639,2739936854,88866385,2129567503,4046943231,4277895041,3253204270,2809573024,4219745029,3766525979,552436728,383069765,700778171,1226852227,3024179453,2594674207,3463118848,1427993336,3845816056,1346726528,658432,607895697,2108170751,3499933685,1219952601,3538943354,1493087547,1032776681,3764027222,43908344,653214761,1405345882,956056478,1628595792,345857,30429184,1411212289,2083304172,2280831675,461180851,3413375284,2408710144,3226147472,2689175893,3280810624,2689071350,1347451212,1595600655,3749678295,3624750407,3284043292,2078596112,1040265399,3501130495,102772592,453106694,2283586886,3789296874,260495232,1881568726,118176012,1838384403,884108737,2737294309,618177764,2591995428,2144206848,785523396,1445341760,688674065,2191395906,2423305895,1494111156,947252640,4270313496,3363799782,134077808,2012963843,2013773862,1938915351,2216695184,3483647625,2550650680,1667154646,2112839617,2489860330,2643124258,1828356711,1170539234,2147395316,1080311562,3222274048,1698866554,25330190,2055632147,4249223251,4165582847,3257365886,116917910,2156690831,3339346100,2958445104,2300195076,1080971650,2453916321,2989475885,1177710171,4146837711,1073688319,4293298175,4257710078,1990419822,2729963150,2422781986,2147488136,1242107976,2455371776,180361604,3684169807,491463154,2130689417,2000014254,396176125,896073261,3953170413,2310053836,1707990872,3524242751,1094248430,119815489,3238122487,134265539,2148952044,24615928,677953278,1531314000,1110342921,1677434142,2549714150,1329984093,2936231675,217776128,1641880883,1394937859,2083904128,201057920,260636704,4980805,2048588826,546044293,739236295,1648071167,8091576,1067055873,2091384263,3586109124,2013121280,3219197703,4286667805,3221234216,18350080,1002604033,2121117780,2886019279,552869846,1389442357,3916693504,3780514989,3543542463,2948035071,2431047721,1876176387,3575644187,155849,67112940,2231385840,1426148638,3763996604,704385,1957685279,746529272,2802069119,4028095999,48118113,2123049327,1915069518,3524493981,2302476846,90269853,146825547,119241303,3020292096,732329179,549406621,566295848,4106752499,3220129985,1817386876,629407495,2819095553,3405153950,2410549865,2145982019,3211852842,1051378751,3413116906,2554594940,537350424,813694722,1856055881,1088932696,755983234,3653096835,2944684123,4289190428,1273425361,1179910144,1243545362,361885617,930704197,1945475928,1043684801,1916520237,2438883459,1542537220,3457157807,2176855575,1043300075,4171485564,1619560422,3581967343,3624657703,15196160,242288129,2400252890,3892711423,3789326804,3690472783,657404570,1607602269,270931517,284229632,2006594761,4016775765,1394697531,505999152,518464513,4189077506,1084416165,4266983477,2280670010,2667583486,472111761,2155887676,1034912696,3558801139,931102260,3757304040,775888640,3506200647,941950118,3699642543,2304770431,1111517687,3806742699,2610297056,3093364736,1067179514,2056542285,2362606051,1674257743,2793012193,462782086,3801992926,61538242,2072133135,4156612031,1057253619,3825310911,3261728720,545848610,1611563304,15731263,100991240,1084723977,2416081451,254189919,1537084382,2942941706,2142210555,3364290634,3193372672,4190222178,1366683933,3628471412,2025797598,2457878020,766955571,309240763,527314018,3941070567,201117283,3699472947,3227648527,30770164,2650807122,3150429125,1345030333,113487712,196361488,2580915332,765608081,972560138,2949467665,2849048615,4036406749,2634481664,453147774,677484243,1476283129,3477772923,2744828264,2715287593,184549449,872421095,1073922808,75215796,937409279,2938535923,1317928823,725604423,2144856386,2130337039,4269882087,3524109077,2055899657,372900954,3429517380,1921168366,4043417472,2185661138,4174118912,3228359611,636183286,1735296511,2819538406,1052351509,45488112,381714051,2752378971,2667008113,1680861308,1643431266,1605762077,4094685543,2681149561,668992823,503869091,3797692223,903877291,620050168,668108416,3215712313,747964138,3988659330,2147300381,1271463936,2984615286,1531343683,1435187264,105288802,2219539720,3602952237,1571323772,1300463063,2598363711,3657177663,2060762091,3359637247,25161716,885259329,2875187813,1492685560,53350912,70162432,106340361,2419785977,2797141491,1303084085,529499472,3166267496,2009006080,1362779660,3185770208,3439997175,118284865,2326725694,4248504551,2804417535,4164974566,3129474858,3629280737,2147612408,2237947799,3420322656,4102008694,4189037878,2141038719,2807174588,287589344,2307996161,3463460541,3340762926,1712990265,4027073764,2685860038,3012755456,258184192,781622175,2046092722,3112963375,3627053727,3398071368,1242871200,853917463,337032849,83789544,1911595567,461579377,4197490564,2709581881,2821588835,1304493455,1580201919,3807583231,3207765953,3727685687,1660295648,3692724546,359574346,168831582,3117088768,4103315762,3521729823,3954860743,2647519999,3645470678,1111580956,275515456,3156673065,1078463528,9072832,23814144,50269136,214662739,1991239166,1870628065,3755572959,4211078267,2004475822,2884365451,4271702047,1000341752,3579844742,3979626688,3404085952,475201536,978556566,923274310,2035871874,2076359217,1300963722,3719857761,878268080,32356802,3178691609,4265010175,4126296060,3837329359,3784245759,445648881,142637329,68075539,555766553,117588879,1486356984,48283392,510650428,3454794327,2526896984,2100745089,86310912,4039654708,3008609912,2251471287,2766620020,8734000,151908205,2390884261,2281961644,2151613378,12584726,398645025,2148417412,164624528,4236184739,3152037245,3361093135,5199537,41796112,1063580684,3140461310,3565618317,2202014817,4041033656,1165547067,2457665536,2310662284,642216239,626759177,2538672127,2417546162,3682058528,547422822,1189191684,3941515446,2348694865,1610082312,4291035138,854982747,3346044921,1740660598,3194748589,4230942735,3055040379,1751343113,2207468456,104353921,3170222835,3088057282,270669861,1731395584,3450822931,2696068636,2443948089,1821136216,3101433475,2785792005,520036861,1743945684,2469228262,2168342176,235145368,16155652,39331958,2260862969,1275262887,3759077374,77797996,1060601227,4291018730,1227378401,2966418031,3552417095,887192894,2189590803,2384199680,1025093121,2097891304,605171200,493880384,4277629440,1059270665,226861083,683934297,3215990105,4278740991,4229017559,1413054205,2206836634,58980912,3624339347,2162291272,371999637,329408809,2252292752,1193412459,4133487135,4121892415,2113801847,4249290181,2750087168,3637110791,874038534,538218873,4026524152,3513837441,288314610,1054619907,916687886,3523488,14417952,215042093,1042078205,866515583,3560964083,1576665051,2015880383,1207894177,2127683075,2922049917,751194121,1924137637,2201537354,3808732117,525062368,2309095424,685521339,148512641,3644321946,2704628423,4216361032,3329921034,2814378164,4198530035,4124039959,2147471199,3350697980,897478401,2135547915,3737387125,633349008,1778743744,1077943544,2160201014,382550594,1197570049,1075707427,2597539701,709716659,1070275375,2412838912,1618706265,1209411039,3227905811,2138408543,4248820122,1605101730,2482638675,2885740730,3762160120,65072704,4163880510,3788791796,513689506,3649863025,1463768721,2387508,10417216,247771392,4192977439,3220718207,1912479155,2712360883,126089464,2424985845,784072704,2043335355,3870869299,4206979489,4255978495,14294944,244507776,248559111,2623527530,1346028502,47515780,1875134527,4232039420,1161846627,3374812142,571522779,879934,16768936,2682756804,3183425999,1341671552,2809360924,131791365,4227266510,2256309276,4236771328,801085515,2306184227,3665506280,871974208,925215888,3494903828,76023934,1499988948,2130728763,4228449407,4064484351,3972267512,4031774701,297795392,3338646076,536557217,4261488148,524962816,3385237738,2191065249,1548485093,2325347550,3523604563,1168052139,1281032192,28139397,259834177,2488182453,3419478363,3001186159,977319871,226502715,3358629116,2340673803,3358535225,2272023935,1276182521,3852991513,1123534089,1224232966,1847563537,1106833726,802239397,4230205295,3777526908,2597114864,973057789,1256741161,2281702566,1378877440,2278843155,2053114444,3558499615,1258576029,3359960959,1154218976,276811396,2482512401,3750614875,4030599734,100057616,2080539143,3138420858,1419218937,517537424,1057996693,1102974798,938156356,4010551034,459803677,735995969,2427146252,100410257,1884871464,308412416,1664844106,82550466,3561800816,2192003801,3519818745,3746459646,3507208178,377481130,2546417660,3425953148,1081980836,214886528,1432479559,1762344980,2251358913,2055214179,4244706767,1417356760,248028227,3074593933,3351543798,2320232363,2995250018,408446094,1183776768,2160386754,1376378117,1923353725,2190328073,1588413648,910807039,3733969054,2180126705,528552673,4178637500,470306311,408994043,2743893862,1829501986,16711720,1207307449,1050973955,1847577152,3747545473,3758925871,768509282,365705627,1744026877,2733368218,140836864,2065242316,3378474430,997504214,2270283863,4264915647,1882099326,1591751839,2853017974,561121918,3599051659,1987768431,4286330106,1698238371,3777292402,1849826606,2282262669,2165463893,1008865145,2321309096,124845639,4291934284,1515229545,1312214770,1364962295,1215627264,889211454,1856263267,1089504737,288346880,2481983743,4276297990,3928427460,2533054913,4259147785,3081738109,2042279295,160097200,1046675457,2533449843,2952827544,35832440,436279098,3031504623,13647828,2243674104,2788163465,578787880,296699424,3428638256,3226992640,2715899754,3816794470,1770624606,1036239176,4014445323,3753953295,2938634301,2665612260,1224760872,11458,134280380,19034048,581040429,1555791926,2875949025,1556083862,2318369571,4277915316,4136239091,3094200596,1931348118,2772829205,2290102107,101096944,499712000,4015181585,4216525734,817633447,49219584,2080612354,4246732871,3003876060,1123822047,1608584251,4263593855,4166268903,4133648540,903423467,2311141793,1352609002,289447040,4278757387,3097154028,2330332143,631523475,3928614358,214763427,3627213097,3750268979,768475136};

	static const unsigned int w2[256] = {1913607555,675556588,3902637308,1303398415,2804841594,62821375,3752619650,1301598150,1163584328,4265134891,3022287108,3131978726,1516751550,134025714,885159778,2464321380,1670071650,2441230746,794745561,4104205625,4179112007,865261520,3788375059,1356175475,1809872467,89552368,327364120,1373068290,91433726,2451500109,3062478602,2438154349,1458045321,2353948660,1085376585,1847209367,1370462392,4163177901,1701906789,994932115,3780964206,302547670,4230754994,1139741624,1554601670,623363906,3231287905,4170398999,1177626952,3296682439,2132777473,3728892817,2586153604,1876409896,1065569102,2201345250,2139866858,3695438194,4216044880,3220788889,4181811431,568391238,2348449891,1543870467,2546986055,1925106304,4051594831,1305810384,1769867609,4108347542,1759092965,3186107883,3624238899,1873397934,2059953011,1017438790,2148559173,1954170829,1144882157,1624539516,72660996,2829739209,942706951,1110033140,1862526707,2486548475,852223390,1136003666,536278645,1169691875,2660397639,343509589,3073269351,163158029,853623591,788913768,266075963,4195722026,3506887436,3337050056,2419588540,3862735917,2332360590,54314960,2421430670,1156203296,3968238729,1086310395,1719888282,2520919473,3702476456,1847752155,4188103751,1135956566,4057882139,3764228320,364679443,4207722045,2318847437,2997982512,405249755,124701709,13716262,3909937258,3000018757,396915666,1595809361,549834802,3071004278,2817833407,2960155406,2674766400,2670167888,4058971471,302590126,832670055,3090194179,3787775045,1191020863,3978641447,4003579123,339879025,529708558,4045614389,68264426,2083714410,386763475,3102939027,2990743271,51485689,4089529406,3450656706,1872856307,2373117127,315820050,1413587465,3634142918,2023872803,3958591970,4109162054,2168267011,1720749864,4010781107,2706392027,1287422625,2020402209,1172932967,3140842170,3181833716,3515387063,902329218,516563773,1355577761,2199331482,3786319300,234652095,1808430298,67306230,1019674352,1851951487,1749701575,2529641426,1809321717,4098988373,3851807500,1446239531,3426966986,234461146,116664680,608072293,513652749,2723694844,3509284803,1134877983,1793147235,251977801,3519587898,3550799171,3271927186,1859475266,2127518835,4198656662,399966931,2080521605,93383004,2015549006,394068881,1645158717,1352494397,4195134352,3376328049,620668167,2479371587,4198044504,4186864754,110954578,2925761210,2250035149,256494606,4013122066,1188790555,4166151078,288142804,4024116223,3768625670,196671304,1185480894,3838667443,203489452,3195498574,1593643840,3922423245,4162920717,1865311560,3433833217,1080016947,4050291590,1386596426,3983541251,681001478,1217831424,1622079496,3271131249,3105215203,1599237581,3920691924,4254250082,1090355694,1121819433,2898292659,3392920769,650302863,2985048845,1650989621,4127918597,135186123};

	static const unsigned int w3[20] = {3898795476,3841654544,1999377659,478627577,2610578576,437068610,3468252685,2057174436,897088322,3798044925,1579394953,2235493397,3540262854,4032889344,754882725,164846975,2388600203,4282835672,2195028258,626363423};

        
       // Write your code here

       //input 784       ->           1st layer 128     ->       2nd layer 64  ->  ouput 10
       //            w1 3200 (128X25)             w2 256 (64X4)                w3 20  (10X2)
   // First Layer
	   printf("\n\n *******************\nSample weights:\n");
	   for(int i = 0; i < 5; i++) {
	       printf("w1[%d] = %u\n", i, w1[i]);
	       printf("w2[%d] = %u\n", i, w2[i]);
	       printf("w3[%d] = %u\n", i, w3[i]);
	   }

   memset(sum, 0, sizeof(sum));
   for(int in = 0; in < 25; in++) {
       for(int out_n = 0; out_n < 128; out_n++) {
           unsigned int input_word = IN[in];
           unsigned int weight_word = w1[out_n * 25 + in];
           if (in == 24) {
               // Mask to keep only the upper 16 bits (valid data)
               input_word &= 0xFFFF0000;
               weight_word &= 0xFFFF0000;
           }
           xnor_result = ~(input_word ^ weight_word);
           sum[out_n] += __builtin_popcount(xnor_result);

       }
   }
   for(int out_n = 0; out_n < 128; out_n++) {
	   if(out_n<5)printf("Layer1_out[%d]  before processing sum_out = %d\n", out_n, sum[out_n]);
       sum[out_n] = sum[out_n] * 2 - 784;

       layer1_out[out_n] = sum[out_n] > 0 ? 1 : -1;
   }

   for(int i = 0; i < 128; i++) {
       if(i < 5) printf("Layer1_out[%d] = %d\n", i, layer1_out[i]);
	   if(i<5)printf("Layer1_out[%d]  after processing sum_out = %d\n", i, sum[i]);
       //printf("Layer1_out[%d] = %d\n", i, layer1_out[i]);
   }

   // Second Layer
   memset(sum, 0, sizeof(sum));
   for(int out_n = 0; out_n < 64; out_n++) {
       sum[out_n] = 0;
       for(int word = 0; word < 4; word++) {
           unsigned int input_bits = 0;
           for(int bit = 0; bit < 32; bit++) {
               int input_idx = (word * 32) + bit;
               if(input_idx < 128) {
                   if(layer1_out[input_idx] == -1) {  // Map +1 to bit 1
                       input_bits |= (1u << bit);
                   }
                   // No need to set bit if layer1_out[input_idx] == -1 (bit remains 0)
               }
           }
           xnor_result = ~(input_bits ^ w2[out_n * 4 + word]); // XNOR
           sum[out_n] += __builtin_popcount(xnor_result);
       }
       sum[out_n] = sum[out_n] * 2 - 128;
       layer2_out[out_n] = sum[out_n] > 0 ? 1 : -1;
   }

   for(int i = 0; i < 64; i++) {
       //if(i < 5) printf("Layer2_out[%d] = %d\n", i, layer2_out[i]);
       printf("Layer2_out[%d] = %d\n", i, layer2_out[i]);
   }

   // Final Layer
   memset(sum, 0, sizeof(sum));
   for(int out_n = 0; out_n < 10; out_n++) {
       sum[out_n] = 0;
       for(int word = 0; word < 2; word++) {
           unsigned int input_bits = 0;
           for(int bit = 0; bit < 32; bit++) {
               int input_idx = word * 32 + bit;
               if(input_idx < 64) {
                   if(layer2_out[input_idx] == -1) {  // Map +1 to bit 1
                       input_bits |= (1u << bit);
                   }
                   // No need to set bit if layer2_out[input_idx] == -1 (bit remains 0)
               }
           }
           xnor_result = ~(input_bits ^ w3[out_n * 2 + word]); // XNOR
           sum[out_n] += __builtin_popcount(xnor_result);
       }
       sum[out_n] = sum[out_n] * 2 - 64;
       // No activation function in the output layer
   }

   // Output
   for(int i = 0; i < 10; i++) {
       ys[i] = sum[i];
       printf("Final output[%d] = %d\n", i, ys[i]);
   }
 }
